# üë§ –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è–º–∏ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### Endpoints –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (Sellers)

1. **POST /sellers/profile** - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: seller)
2. **GET /sellers/profile** - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: seller)
3. **PUT /sellers/profile** - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: seller)
4. **POST /sellers/payment-details** - –û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞—Ç—ë–∂–Ω—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: seller)
5. **GET /sellers/stats** - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–¥–∞–≤—Ü–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: seller)
6. **GET /sellers/{seller_id}** - –ü–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞ (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

### Endpoints –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∫–∞–Ω–∞–ª–æ–≤ (Channels)

1. **POST /channels/profile** - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–∞–ª–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: channel_owner)
2. **GET /channels/profile** - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–∞–ª–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: channel_owner)
3. **PUT /channels/profile** - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–∞–ª–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: channel_owner)
4. **GET /channels/stats** - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞–Ω–∞–ª–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø: channel_owner)
5. **GET /channels/** - –ü–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º (–¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º)
6. **GET /channels/{channel_id}** - –ü–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–∞–ª–∞ (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–æ–¥–∞–≤—Ü–∞

```bash
# 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ –ø—Ä–æ–¥–∞–≤–µ—Ü
curl -X POST "http://localhost:8000/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "seller@example.com",
    "password": "password123",
    "full_name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
    "user_type": "seller"
  }'

# 2. –í–æ–π–¥–∏—Ç–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
curl -X POST "http://localhost:8000/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "seller@example.com",
    "password": "password123"
  }'

# 3. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞
curl -X POST "http://localhost:8000/sellers/profile" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "shop_name": "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω TechStore",
    "shop_url": "https://wildberries.ru/seller/techstore",
    "shop_description": "–ü—Ä–æ–¥–∞—ë–º –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫—É",
    "category": "–¢–µ—Ö–Ω–∏–∫–∞",
    "notification_email": "seller@techstore.com"
  }'
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∫–∞–Ω–∞–ª–∞

```bash
# 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ –≤–ª–∞–¥–µ–ª–µ—Ü –∫–∞–Ω–∞–ª–∞
curl -X POST "http://localhost:8000/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "channel@example.com",
    "password": "password123",
    "full_name": "–í–ª–∞–¥–µ–ª–µ—Ü –ö–∞–Ω–∞–ª–∞",
    "user_type": "channel_owner"
  }'

# 2. –í–æ–π–¥–∏—Ç–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
curl -X POST "http://localhost:8000/auth/login" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "channel@example.com",
    "password": "password123"
  }'

# 3. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–∞–ª–∞
curl -X POST "http://localhost:8000/channels/profile" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "platform": "vk",
    "channel_url": "https://vk.com/mychannel",
    "channel_name": "–ú–æ–π –∫–∞–Ω–∞–ª –æ –º–æ–¥–µ",
    "channel_description": "–¢—Ä–µ–Ω–¥—ã –≤ –º–æ–¥–µ –∏ —Å—Ç–∏–ª—å –∂–∏–∑–Ω–∏",
    "category": "–ú–æ–¥–∞",
    "tags": ["lifestyle", "fashion", "shopping"],
    "subscribers_count": 50000,
    "avg_reach": 15000,
    "engagement_rate": 4.5,
    "audience_geo": "–ú–æ—Å–∫–≤–∞",
    "audience_age_group": "18-25",
    "audience_gender": "F",
    "price_per_post": 5000.00,
    "price_per_story": 2000.00,
    "price_per_video": 10000.00
  }'
```

### 3. –ü–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤

```bash
# –ü–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º (–¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º, –±–µ–∑ —Ç–æ–∫–µ–Ω–∞)
curl "http://localhost:8000/channels/?platforms=vk&platforms=telegram&categories=–ú–æ–¥–∞&min_subscribers=10000&max_price=10000&sort_by=rating&sort_order=desc"
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–¥–∞–≤—Ü–∞ (Seller)

```json
{
  "id": "uuid",
  "user_id": "uuid",
  "shop_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞",
  "shop_url": "https://...",
  "shop_description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "category": "–¢–µ—Ö–Ω–∏–∫–∞",
  "logo_url": "https://...",
  "balance": 150000.50,
  "total_spent": 5000.00,
  "total_campaigns": 12,
  "payment_method": "yoomoney",
  "payment_details": {
    "account": "...",
    "holder_name": "...",
    "bank_name": "..."
  },
  "notifications_enabled": true,
  "notification_email": "seller@example.com",
  "kyc_status": "not_verified",
  "is_active": true,
  "created_at": "2025-11-15T09:30:00Z",
  "updated_at": "2025-11-15T09:30:00Z"
}
```

### –ü—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–∞–ª–∞ (Channel)

```json
{
  "id": "uuid",
  "user_id": "uuid",
  "platform": "vk",
  "channel_url": "https://vk.com/...",
  "channel_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞",
  "channel_description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "channel_avatar_url": "https://...",
  "category": "–ú–æ–¥–∞",
  "tags": ["lifestyle", "fashion"],
  "subscribers_count": 50000,
  "avg_reach": 15000,
  "engagement_rate": 4.5,
  "audience_geo": "–ú–æ—Å–∫–≤–∞",
  "audience_age_group": "18-25",
  "audience_gender": "F",
  "price_per_post": 5000.00,
  "price_per_story": 2000.00,
  "price_per_video": 10000.00,
  "rating": 4.8,
  "total_orders": 25,
  "completed_orders": 24,
  "total_earned": 125000.00,
  "verified": true,
  "verification_date": "2025-11-15T09:30:00Z",
  "is_active": true,
  "created_at": "2025-11-15T09:30:00Z",
  "updated_at": "2025-11-15T09:30:00Z"
}
```

## üîç –§–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∫–∞–Ω–∞–ª–æ–≤

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **platforms**: –°–ø–∏—Å–æ–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º (vk, telegram, pinterest, instagram, tiktok)
- **categories**: –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **min_subscribers / max_subscribers**: –î–∏–∞–ø–∞–∑–æ–Ω –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- **min_engagement_rate / max_engagement_rate**: –î–∏–∞–ø–∞–∑–æ–Ω ER
- **min_price / max_price**: –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
- **geo**: –°–ø–∏—Å–æ–∫ –≥–µ–æ–≥—Ä–∞—Ñ–∏–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- **age_group**: –°–ø–∏—Å–æ–∫ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –≥—Ä—É–ø–ø
- **gender**: –ü–æ–ª –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (M, F, All)
- **min_rating**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
- **verified_only**: –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- **sort_by**: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (price, rating, subscribers, engagement_rate)
- **sort_order**: –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (asc, desc)

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

```bash
# –ö–∞–Ω–∞–ª—ã VK –∏ Telegram –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–ú–æ–¥–∞" —Å –º–∏–Ω–∏–º—É–º 10000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
GET /channels/?platforms=vk&platforms=telegram&categories=–ú–æ–¥–∞&min_subscribers=10000

# –ö–∞–Ω–∞–ª—ã —Å —Ü–µ–Ω–æ–π –¥–æ 5000 —Ä—É–±–ª–µ–π, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
GET /channels/?max_price=5000&sort_by=rating&sort_order=desc

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã —Å ER –≤—ã—à–µ 3%
GET /channels/?min_engagement_rate=3&verified_only=true
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ endpoints

- **–¢—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: –í—Å–µ endpoints `/sellers/profile/*` –∏ `/channels/profile/*`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: 
  - Endpoints –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Ç—Ä–µ–±—É—é—Ç `user_type = "seller"`
  - Endpoints –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∫–∞–Ω–∞–ª–æ–≤ —Ç—Ä–µ–±—É—é—Ç `user_type = "channel_owner"`
- **–ü—É–±–ª–∏—á–Ω—ã–µ endpoints**: 
  - `GET /sellers/{seller_id}` - –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º
  - `GET /channels/{channel_id}` - –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º
  - `GET /channels/` - –ø–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞

```json
{
  "total_spent": 5000.00,
  "total_campaigns": 12,
  "active_campaigns": 3,
  "completed_campaigns": 9,
  "average_roi": null,
  "balance": 150000.50
}
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞

```json
{
  "total_earned": 125000.00,
  "total_orders": 25,
  "completed_orders": 24,
  "completion_rate": 0.96,
  "average_price": 5000.00,
  "rating": 4.8,
  "balance": 0
}
```

## ‚ö†Ô∏è –û—à–∏–±–∫–∏

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 400 | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ |
| 401 | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω |
| 403 | –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) |
| 404 | –ü—Ä–æ—Ñ–∏–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| 500 | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
app/
‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ seller.py          # Pydantic —Å—Ö–µ–º—ã –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ channel.py         # Pydantic —Å—Ö–µ–º—ã –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ seller_service.py  # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ channel_service.py # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∫–∞–Ω–∞–ª–æ–≤
‚îî‚îÄ‚îÄ routers/
    ‚îú‚îÄ‚îÄ sellers.py          # API endpoints –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
    ‚îî‚îÄ‚îÄ channels.py         # API endpoints –∫–∞–Ω–∞–ª–æ–≤
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

